!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactHistory=e(require("react")):t.ReactHistory=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.createPath=e.parsePath=e.locationsAreEqual=e.createLocation=e.Prompt=e.MemoryHistory=e.HashHistory=e.BrowserHistory=void 0;var r=n(11);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var i=n(14);Object.defineProperty(e,"createLocation",{enumerable:!0,get:function(){return i.createLocation}}),Object.defineProperty(e,"locationsAreEqual",{enumerable:!0,get:function(){return i.locationsAreEqual}});var a=n(16);Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return a.parsePath}}),Object.defineProperty(e,"createPath",{enumerable:!0,get:function(){return a.createPath}});var u=n(12),c=o(u),s=n(13),f=o(s),l=n(15),p=o(l),d=n(17),h=o(d);e.BrowserHistory=c["default"],e.HashHistory=f["default"],e.MemoryHistory=p["default"],e.Prompt=h["default"]},function(e,n){e.exports=t},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},a=n(21),u=o(a),c=n(3),s=(e.createLocation=function(t,e,n,o){var r=void 0;return"string"==typeof t?(r=(0,c.parsePath)(t),r.state=e):(r=i({},t),void 0===r.pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==e&&void 0===r.state&&(r.state=e)),r.key=n,o&&(r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=(0,u["default"])(r.pathname,o.pathname)):r.pathname=o.pathname),r},function f(t,e){if(null==t)return t==e;var n="undefined"==typeof t?"undefined":r(t),o="undefined"==typeof e?"undefined":r(e);if(n!==o)return!1;if(Array.isArray(t))return!(!Array.isArray(e)||t.length!==e.length)&&t.every(function(t,n){return f(t,e[n])});if("object"===n){var i=Object.keys(t),a=Object.keys(e);return i.length===a.length&&i.every(function(n){return f(t[n],e[n])})}return t===e});e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&s(t.state,e.state)}},function(t,e){"use strict";e.__esModule=!0;e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.stripPrefix=function(t,e){return 0===t.indexOf(e)?t.substr(e.length):t},e.parsePath=function(t){var e=t||"/",n="",o="",r=e.indexOf("#");r!==-1&&(o=e.substr(r),e=e.substr(0,r));var i=e.indexOf("?");return i!==-1&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===o?"":o}},e.createPath=function(t){var e=t.pathname,n=t.search,o=t.hash,r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r}},function(t,e,n){"use strict";var o=function(){};t.exports=o},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),c=o(u),s=n(6),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.getChildContext=function(){return{history:this.history}},e.prototype.setupHistory=function(t){var e=this,n=t.createHistory,o=t.historyOptions;this.history=n(o),this.unlisten=this.history.listen(function(){return e.forceUpdate()})},e.prototype.componentWillMount=function(){this.setupHistory(this.props)},e.prototype.componentWillReceiveProps=function(t){var e=this.props.historyOptions,n=t.historyOptions,o=!1;for(var r in n)if(n[r]!==e[r]){o=!0;break}o&&(this.unlisten(),this.setupHistory(t))},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.history,e=t.location,n=t.action;return this.props.children({history:t,location:e,action:n})},e}(c["default"].Component);f.childContextTypes={history:s.historyContext.isRequired},e["default"]=f},function(t,e,n){"use strict";e.__esModule=!0,e.historyContext=e.location=e.action=void 0;var o=n(1),r=e.action=o.PropTypes.oneOf(["PUSH","REPLACE","POP"]),i=e.location=o.PropTypes.shape({pathname:o.PropTypes.string.isRequired,search:o.PropTypes.string.isRequired,hash:o.PropTypes.string.isRequired,state:o.PropTypes.object,key:o.PropTypes.string});e.historyContext=o.PropTypes.shape({action:r.isRequired,location:i.isRequired,push:o.PropTypes.func.isRequired,replace:o.PropTypes.func.isRequired,go:o.PropTypes.func.isRequired,goBack:o.PropTypes.func.isRequired,goForward:o.PropTypes.func.isRequired,canGo:o.PropTypes.func,block:o.PropTypes.func.isRequired})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=n(4),i=(o(r),function(){var t=null,e=function(e){return t=e,function(){t===e&&(t=null)}},n=function(e,n,o,r){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof o?o(i,r):r(!0):r(i!==!1)}else r(!0)},o=[],r=function(t){return o.push(t),function(){o=o.filter(function(e){return e!==t})}},i=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.forEach(function(t){return t.apply(void 0,e)})};return{setPrompt:e,confirmTransitionTo:n,appendListener:r,notifyListeners:i}});e["default"]=i},function(t,e){"use strict";e.__esModule=!0;e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},e.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1}},function(t,e){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(t,e,n){"use strict";var o=function(t,e,n,o,r,i,a,u){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,i,a,u],f=0;c=new Error(e.replace(/%s/g,function(){return s[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};t.exports=o},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0,e.Forward=e.Back=e.Pop=e.Replace=e.Push=void 0;var u=n(1),c=o(u),s=n(6),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.performAction=function(){this.props.perform(this.context.history)},e.prototype.componentDidMount=function(){this.performAction()},e.prototype.componentDidUpdate=function(){this.performAction()},e.prototype.render=function(){return null},e}(c["default"].Component);f.contextTypes={history:s.historyContext.isRequired};var l=(e.Push=function(t){var e=t.location,n=t.path,o=t.state;return c["default"].createElement(f,{perform:function(t){return t.push(e||n,o)}})},e.Replace=function(t){var e=t.location,n=t.path,o=t.state;return c["default"].createElement(f,{perform:function(t){return t.replace(e||n,o)}})},e.Pop=function(t){var e=t.go;return c["default"].createElement(f,{perform:function(t){return t.go(e)}})});l.defaultProps={go:-1};e.Back=function(){return c["default"].createElement(f,{perform:function(t){return t.goBack()}})},e.Forward=function(){return c["default"].createElement(f,{perform:function(t){return t.goForward()}})}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}e.__esModule=!0;var i=n(1),a=o(i),u=n(18),c=o(u),s=n(5),f=o(s),l=function(t){var e=t.children,n=r(t,["children"]);return a["default"].createElement(f["default"],{children:e,createHistory:c["default"],historyOptions:n})};e["default"]=l},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}e.__esModule=!0;var i=n(1),a=o(i),u=n(19),c=o(u),s=n(5),f=o(s),l=function(t){var e=t.children,n=r(t,["children"]);return a["default"].createElement(f["default"],{children:e,createHistory:c["default"],historyOptions:n})};e["default"]=l},function(t,e,n){"use strict";e.__esModule=!0;var o=n(2);Object.defineProperty(e,"createLocation",{enumerable:!0,get:function(){return o.createLocation}}),Object.defineProperty(e,"locationsAreEqual",{enumerable:!0,get:function(){return o.locationsAreEqual}})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}e.__esModule=!0;var i=n(1),a=o(i),u=n(20),c=o(u),s=n(5),f=o(s),l=function(t){var e=t.children,n=r(t,["children"]);return a["default"].createElement(f["default"],{children:e,createHistory:c["default"],historyOptions:n})};e["default"]=l},function(t,e,n){"use strict";e.__esModule=!0;var o=n(3);Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return o.parsePath}}),Object.defineProperty(e,"createPath",{enumerable:!0,get:function(){return o.createPath}})},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=n(1),c=o(u),s=n(6),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.block=function(){this.teardownPrompt||(this.teardownPrompt=this.context.history.block(this.props.message))},e.prototype.unblock=function(){this.teardownPrompt&&(this.teardownPrompt(),this.teardownPrompt=null)},e.prototype.componentWillMount=function(){this.props.when&&this.block()},e.prototype.componentWillReceiveProps=function(t){t.when?this.block():this.unblock()},e.prototype.componentWillUnmount=function(){this.unblock()},e.prototype.render=function(){return null},e}(c["default"].Component);f.contextTypes={history:s.historyContext.isRequired},f.defaultProps={when:!0},e["default"]=f},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}),i=n(4),a=(o(i),n(10)),u=o(a),c=n(2),s=n(3),f=n(7),l=o(f),p=n(9),d=n(8),h="popstate",y="hashchange",v=function(){try{return window.history.state||{}}catch(t){return{}}},m=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p.canUseDOM?void 0:(0,u["default"])(!1);var e=window.history,n=(0,d.supportsHistory)(),o=!(0,d.supportsPopStateOnHashChange)(),i=t.basename,a=void 0===i?"":i,f=t.forceRefresh,m=void 0!==f&&f,g=t.getUserConfirmation,P=void 0===g?d.getConfirmation:g,b=t.keyLength,w=void 0===b?6:b,O=function(t){var e=t||{},n=e.key,o=e.state,i=window.location,u=i.pathname,c=i.search,f=i.hash,l=u+c+f;return a&&(l=(0,s.stripPrefix)(l,a)),r({},(0,s.parsePath)(l),{state:o,key:n})},_=function(){return Math.random().toString(36).substr(2,w)},x=(0,l["default"])(),E=function(t){r(G,t),G.length=e.length,x.notifyListeners(G.location,G.action)},L=function(t){void 0!==t.state&&k(O(t.state))},T=function(){k(O(v()))},M=!1,k=function(t){M?(M=!1,E()):!function(){var e="POP";x.confirmTransitionTo(t,e,P,function(n){n?E({action:e,location:t}):j(t)})}()},j=function(t){var e=G.location,n=S.indexOf(e.key);n===-1&&(n=0);var o=S.indexOf(t.key);o===-1&&(o=0);var r=n-o;r&&(M=!0,H(r))},A=O(v()),S=[A.key],R=function(t,o){var r="PUSH",i=(0,c.createLocation)(t,o,_(),G.location);x.confirmTransitionTo(i,r,P,function(t){if(t){var o=a+(0,s.createPath)(i),u=i.key,c=i.state;if(n)if(e.pushState({key:u,state:c},null,o),m)window.location.href=o;else{var f=S.indexOf(G.location.key),l=S.slice(0,f===-1?0:f+1);l.push(i.key),S=l,E({action:r,location:i})}else window.location.href=o}})},C=function(t,o){var r="REPLACE",i=(0,c.createLocation)(t,o,_(),G.location);x.confirmTransitionTo(i,r,P,function(t){if(t){var o=a+(0,s.createPath)(i),u=i.key,c=i.state;if(n)if(e.replaceState({key:u,state:c},null,o),m)window.location.replace(o);else{var f=S.indexOf(G.location.key);f!==-1&&(S[f]=i.key),E({action:r,location:i})}else window.location.replace(o)}})},H=function(t){e.go(t)},q=function(){return H(-1)},U=function(){return H(1)},B=0,W=function(t){B+=t,1===B?((0,d.addEventListener)(window,h,L),o&&(0,d.addEventListener)(window,y,T)):0===B&&((0,d.removeEventListener)(window,h,L),o&&(0,d.removeEventListener)(window,y,T))},F=!1,D=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=x.setPrompt(t);return F||(W(1),F=!0),function(){return F&&(F=!1,W(-1)),e()}},I=function(t){var e=x.appendListener(t);return W(1),function(){return W(-1),e()}},G={length:e.length,action:"POP",location:A,push:R,replace:C,go:H,goBack:q,goForward:U,block:D,listen:I};return G};e["default"]=m},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=n(4),a=(o(i),n(10)),u=o(a),c=n(2),s=n(3),f=n(7),l=o(f),p=n(9),d=n(8),h="hashchange",y={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,s.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:s.stripLeadingSlash,decodePath:s.addLeadingSlash},slash:{encodePath:s.addLeadingSlash,decodePath:s.addLeadingSlash}},v=function(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)},m=function(t){return window.location.hash=t},g=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},P=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p.canUseDOM?void 0:(0,u["default"])(!1);var e=window.history,n=((0,d.supportsGoWithoutReloadUsingHash)(),t.basename),o=void 0===n?"":n,i=t.getUserConfirmation,a=void 0===i?d.getConfirmation:i,f=t.hashType,P=void 0===f?"slash":f,b=y[P],w=b.encodePath,O=b.decodePath,_=function(){var t=O(v());return o&&(t=(0,s.stripPrefix)(t,o)),(0,s.parsePath)(t)},x=(0,l["default"])(),E=function(t){r(z,t),z.length=e.length,x.notifyListeners(z.location,z.action)},L=!1,T=null,M=function(){var t=v(),e=w(t);if(t!==e)g(e);else{var n=_(),o=z.location;if(!L&&(0,c.locationsAreEqual)(o,n))return;if(T===(0,s.createPath)(n))return;T=null,k(n)}},k=function(t){L?(L=!1,E()):!function(){var e="POP";x.confirmTransitionTo(t,e,a,function(n){n?E({action:e,location:t}):j(t)})}()},j=function(t){var e=z.location,n=C.lastIndexOf((0,s.createPath)(e));n===-1&&(n=0);var o=C.lastIndexOf((0,s.createPath)(t));o===-1&&(o=0);var r=n-o;r&&(L=!0,U(r))},A=v(),S=w(A);A!==S&&g(S);var R=_(),C=[(0,s.createPath)(R)],H=function(t,e){var n="PUSH",r=(0,c.createLocation)(t,void 0,void 0,z.location);x.confirmTransitionTo(r,n,a,function(t){if(t){var e=(0,s.createPath)(r),i=w(o+e),a=v()!==i;if(a){T=e,m(i);var u=C.lastIndexOf((0,s.createPath)(z.location)),c=C.slice(0,u===-1?0:u+1);c.push(e),C=c,E({action:n,location:r})}else E()}})},q=function(t,e){var n="REPLACE",r=(0,c.createLocation)(t,void 0,void 0,z.location);x.confirmTransitionTo(r,n,a,function(t){if(t){var e=(0,s.createPath)(r),i=w(o+e),a=v()!==i;a&&(T=e,g(i));var u=C.indexOf((0,s.createPath)(z.location));u!==-1&&(C[u]=e),E({action:n,location:r})}})},U=function(t){e.go(t)},B=function(){return U(-1)},W=function(){return U(1)},F=0,D=function(t){F+=t,1===F?(0,d.addEventListener)(window,h,M):0===F&&(0,d.removeEventListener)(window,h,M)},I=!1,G=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=x.setPrompt(t);return I||(D(1),I=!0),function(){return I&&(I=!1,D(-1)),e()}},V=function(t){var e=x.appendListener(t);return D(1),function(){return D(-1),e()}},z={length:e.length,action:"POP",location:R,push:H,replace:q,go:U,goBack:B,goForward:W,block:G,listen:V};return z};e["default"]=P},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var r=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}),i=n(4),a=(o(i),n(2)),u=n(7),c=o(u),s=function(t,e,n){return Math.min(Math.max(t,e),n)},f=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.getUserConfirmation,n=t.initialEntries,o=void 0===n?["/"]:n,i=t.initialIndex,u=void 0===i?0:i,f=t.keyLength,l=void 0===f?6:f,p=(0,c["default"])(),d=function(t){r(E,t),E.length=E.entries.length,p.notifyListeners(E.location,E.action)},h=function(){return Math.random().toString(36).substr(2,l)},y=s(u,0,o.length-1),v=o.map(function(t,e){return"string"==typeof t?(0,a.createLocation)(t,void 0,e?h():void 0):(0,a.createLocation)(t,void 0,e?t.key||h():void 0)}),m=function(t,n){var o="PUSH",r=(0,a.createLocation)(t,n,h(),E.location);p.confirmTransitionTo(r,o,e,function(t){if(t){var e=E.index,n=e+1,i=E.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),d({action:o,location:r,index:n,entries:i})}})},g=function(t,n){var o="REPLACE",r=(0,a.createLocation)(t,n,h(),E.location);p.confirmTransitionTo(r,o,e,function(t){t&&(E.entries[E.index]=r,d({action:o,location:r}))})},P=function(t){var n=s(E.index+t,0,E.entries.length-1),o="POP",r=E.entries[n];p.confirmTransitionTo(r,o,e,function(t){t?d({action:o,location:r,index:n}):d()})},b=function(){return P(-1)},w=function(){return P(1)},O=function(t){var e=E.index+t;return e>=0&&e<E.entries.length},_=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];return p.setPrompt(t)},x=function(t){return p.appendListener(t)},E={length:v.length,action:"POP",location:v[y],index:y,entries:v,push:m,replace:g,go:P,goBack:b,goForward:w,canGo:O,block:_,listen:x};return E};e["default"]=f},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";var n=function(t){return"/"===t.charAt(0)},o=function(t,e){for(var n=e,o=n+1,r=t.length;r>o;n+=1,o+=1)t[n]=t[o];t.pop()},r=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],r=t&&t.split("/")||[],i=e&&e.split("/")||[],a=t&&n(t),u=e&&n(e),c=a||u;if(t&&n(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";var s=void 0;if(i.length){var f=i[i.length-1];s="."===f||".."===f||""===f}else s=!1;for(var l=0,p=i.length;p>=0;p--){var d=i[p];"."===d?o(i,p):".."===d?(o(i,p),l++):l&&(o(i,p),l--)}if(!c)for(;l--;l)i.unshift("..");!c||""===i[0]||i[0]&&n(i[0])||i.unshift("");var h=i.join("/");return s&&"/"!==h.substr(-1)&&(h+="/"),h};t.exports=r}])})}])});