!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactBroadcast=e(require("react")):t.ReactBroadcast=e(t.React)}(this,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0,e.Subscriber=e.Broadcast=void 0;var r=n(3),i=o(r),s=n(4),c=o(s);e.Broadcast=i["default"],e.Subscriber=c["default"]},function(t,e,n){"use strict";var o=function(t,e,n,o,r,i,s,c){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=[n,o,r,i,s,c],f=0;u=new Error(e.replace(/%s/g,function(){return a[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=o},function(e,n){e.exports=t},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},u=n(1),a=o(u),f=n(2),p=o(f),l=function(t){var e=[],n=t;return{publish:function(t){n=t,e.forEach(function(t){return t(n)})},subscribe:function(t){return e.push(t),t(n),function(){return e=e.filter(function(e){return e!==t})}}}},d=function(t){function e(){var n,o,s;r(this,e);for(var c=arguments.length,u=Array(c),a=0;a<c;a++)u[a]=arguments[a];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.broadcast=l(o.props.value),s=n,i(o,s)}return s(e,t),e.prototype.getBroadcastsContext=function(){var t,e=this.props.channel,n=this.context.broadcasts;return c({},n,(t={},t[e]=this.broadcast.subscribe,t))},e.prototype.getChildContext=function(){return{broadcasts:this.getBroadcastsContext()}},e.prototype.componentWillReceiveProps=function(t){this.props.channel!==t.channel?(0,a["default"])(!1):void 0,this.props.value!==t.value&&this.broadcast.publish(t.value)},e.prototype.render=function(){return p["default"].Children.only(this.props.children)},e}(p["default"].Component);d.contextTypes={broadcasts:f.PropTypes.object},d.childContextTypes={broadcasts:f.PropTypes.object.isRequired},e["default"]=d},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var c=n(1),u=o(c),a=n(2),f=o(a),p=function(t){function e(){var n,o,s;r(this,e);for(var c=arguments.length,u=Array(c),a=0;a<c;a++)u[a]=arguments[a];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.state={value:null},s=n,i(o,s)}return s(e,t),e.prototype.componentWillMount=function(){var t=this,e=this.props.channel;if(this.context.broadcasts){var n=this.context.broadcasts[e];"function"!=typeof n?(0,u["default"])(!1):void 0,this.unsubscribe=n(function(e){t.setState({value:e})})}},e.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},e.prototype.render=function(){return this.props.children(this.state.value)},e}(f["default"].Component);p.contextTypes={broadcasts:f["default"].PropTypes.object},e["default"]=p}])});